/*! ChampionPick - v0.1.0 - 2016-02-11
* https://github.com/Boelensman1/ChampionPicker.github.io
* Copyright (c) 2016 ; Licensed  */

function reloadActive(a){"use strict";var b=$("#champions").find("li"),c=$(".btn-role");return roles[0]&&roles[1]&&roles[2]&&roles[3]&&roles[4]||!roles[0]&&!roles[1]&&!roles[2]&&!roles[3]&&!roles[4]?(b.addClass("toShow"),b.removeClass("toHide"),roles[0]?c.addClass("active"):c.removeClass("active"),a&&updateShowHide(),!0):(rolesSane?(b.addClass("toHide"),b.removeClass("toShow")):(b.addClass("toShow"),b.removeClass("toHide")),c.removeClass("active"),processRoles(a),!0)}function processRoles(a){"use strict";var b,c;for(b=0;b<roles.length;++b)if(roles[b]&&($(".role_"+b).addClass("active"),rolesSane))for(c=0;c<rolesJSON[b].length;++c){var d=$("[data-championId="+rolesJSON[b][c]+"]");d.addClass("toShow"),d.removeClass("toHide")}a&&updateShowHide()}function updateShowHide(){"use strict";$(".toShow").show(),$(".toHide").hide()}function champTextFit(){"use strict";var a,b;if($(window).width()>992||$(window).width()<512)for(a=0;a<largeNames.length;++a)b=$("#champ"+largeNames[a]+" .championLabel"),b.fitText(.6*b.html().length/11);else for(a=0;a<largeNames.length;++a)b=$("#champ"+largeNames[a]+" .championLabel"),b.removeAttr("style")}function modalLoreFit(a){"use strict";var b=$(".randomChampionDialog").width(),c=.59*b,d=$(".randomChampionModalLore");c-=110,c-=50,$(window).width()>=450?(c-=70,a?d.transition({height:c+"px"},adjustModalMaxHeightAndPosition):(d.height(c),adjustModalMaxHeightAndPosition())):a?adjustModalMaxHeightAndPosition():adjustModalMaxHeightAndPosition()}function updateFree2Play(){"use strict";var a,b=$(".champion");switch(free2playState){case 0:a=$(".Free2Play.disabled_f2p"),a.addClass("disabled"),a.removeClass("disabled_f2p"),b.removeClass("hiddenF2P"),b.addClass("showF2P");break;case 1:a=$(".Free2Play.disabled"),a.addClass("disabled_f2p"),a.removeClass("disabled"),b.removeClass("hiddenF2P"),b.addClass("showF2P");break;case 2:a=$(".Free2Play"),b.removeClass("showF2P"),b.addClass("hiddenF2P"),a.removeClass("hiddenF2P"),a.addClass("showF2P"),a=$(".Free2Play.disabled"),a.addClass("disabled_f2p"),a.removeClass("disabled")}storage.set("free2playState",free2playState)}function loadChampionData(){"use strict";$.getJSON("data/champions.json",function(a){champions=a,storage.set("champions",champions),loading--,updateProgress(2),loading||loadData()})}function loadOrderData(){"use strict";$.getJSON("data/order.json",function(a){order=a,storage.set("order",order),loading--,updateProgress(2),loading||loadData()})}function loadRoleData(){"use strict";var a="data/roles.json";$.ajax({dataType:"json",url:a}).success(function(a){rolesJSON=a,console.log(rolesJSON),loading--,updateProgress(2),loading||loadData()})}function loadF2PData(){"use strict";$.getJSON(free2playURL,function(a){a.errors[region]===!0&&(DOMReady===!0&&free2playError===!1?(free2playError=!0,showFree2PlayError()):free2playError=!0),free2play=a.free2play[region],storage.set("free2play",free2play),loading--,updateProgress(2),loading||loadData()}).error(function(){DOMReady===!0&&free2playError===!1?(free2playError=!0,showFree2PlayError()):free2playError=!0,free2play=storage.get("free2play"),null===free2play&&(free2play=[]),loading--,updateProgress(2),loading||loadData()})}function updateModal(a,b,c,d,e){"use strict";a.find(".randomChampionModalTitle").html(b.name+": "+b.title),a.find(".randomChampionModalRole").html(d),a.find(".randomChampionModalLore p").html(b.description),a.find(".randomChampionModalProbuildLink").attr("href",b.probuildsURL),a.find(".randomChampionModalMobafireLink").attr("href",b.mobafireURL),a.find(".randomChampionModalChampionggLink").attr("href",b.championggURL),a.find(".randomChampionModalLoLWikiLink").attr("href",b.lolwikiURL),a.find(".randomChampionModalBackground").css("background-image","url("+b.splashUrl+")"),a.find(".randomChampionDontHaveButton").prop("disabled",!1),a.find(".randomChampionNextButton").prop("disabled",!1),free2playState===!0&&-1!==free2play.indexOf(c)&&championsDisabled[c]===!0&&a.find(".randomChampionDontHaveButton").prop("disabled",!0),1===e&&a.find(".randomChampionNextButton").prop("disabled",!0)}function updateProgress(a){"use strict";loadingProgress+=a,$("#loadingProgress").css("width",loadingProgress+"%")}function shuffle(a){"use strict";for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a}function getRandomChampion(a){"use strict";var b=$(".toShow.notDisabled.showSearch.showF2P, .toShow.disabled_f2p.showSearch.showF2P");if(0===b.length)return!1;var c=[],d=[[],[],[],[],[]],e=0,f=Number.MAX_VALUE;if(b.each(function(){if(e=$(this).data("championid"),-1===a.indexOf(e)){c.push(e);var b=0;if(void 0!==champPlayed[e]&&(b=champPlayed[e]),f>b&&(d=[[],[],[],[],[]],f=b),f>=b){var g;for(g=0;5>g;++g)rolesSane&&-1===rolesJSON[g].indexOf(e)||d[g].push(e)}}}),d[0].length+d[1].length+d[2].length+d[3].length+d[4].length===0)return!1;var g=roles.slice(0);roles[0]||roles[1]||roles[2]||roles[3]||roles[4]||(g=[!0,!0,!0,!0,!0]);var h;for(h=0;5>h;++h)0===d[h].length&&(g[h]=!1);for(var i=Math.floor(5*Math.random());!g[i];)i=Math.floor(5*Math.random());d=d[i];var j=d[Math.floor(Math.random()*d.length)];return[j,i,c]}function showFree2PlayError(){"use strict";var a=new PNotify({title:"Riot server error",text:"Failed to get free to play data from riot. Data may be missing or out of date.",opacity:.9,icon:"glyphicon glyphicon-envelope",nonblock:{nonblock:!0,nonblock_opacity:.2},history:{history:!1}});a.get().click(function(){a.options.animation="none",a.remove()})}function searchFor(a){"use strict";var b=[];a=trimString(a);for(var c=0;c<order.length;c++)-1!==champions[order[c]].nameLower.indexOf(a)&&(itemExists(b,champions[order[c]])||b.push(order[c]));return b}function forceReload(){"use strict";loading=loadSteps-2,loadingProgress=2,updateProgress(0),$("#ProgressContainer").show(),loadChampionData(),loadOrderData(),loadF2PData(),loadRoleData()}function updateSaneRoles(){"use strict";var a=$(".btn-role-sane");rolesSane?(a.addClass("active"),a.text("Sane Roles")):(a.removeClass("active"),a.text("Insane Roles"))}function trimString(a){"use strict";for(var b=0,c=a.length-1;b<a.length&&" "===a[b];)b++;for(;c>b&&" "===a[c];)c-=1;return a.substring(b,c+1)}function compareObjects(a,b){"use strict";var c;for(c in a)if(a[c]!==b[c])return!1;for(c in b)if(a[c]!==b[c])return!1;return!0}function itemExists(a,b){"use strict";for(var c=0;c<a.length;c++)if(compareObjects(a[c],b))return!0;return!1}var roles=[!1,!1,!1,!1,!1],rolesSane=!0,rolesPos=["Toplane","Jungle","Midlane","Marksman","Support"],rolesJSON,champions=[],order=[],largeNames=[],championsDisabled,champPlayed={},free2play=[],free2playState=!0,free2playError=!1,free2playTimout,free2playURL="http://wwbtestserver.cloudapp.net:8080/free2play.json",doingRandom=!0,doingNext=!1,randomChamp,randomChampId,champsExcluded,loadSteps=6,loading=loadSteps,loadedOnce=!1,loadingProgress=0,firstTime=!1,DOMReady=!1,region="EUW",exportKeys=["champPlayed","free2playState","rolesSane","roles","championsDisabled"],storage;storage=Modernizr.localstorage?$.localStorage:$.cookieStorage,championsDisabled=storage.isSet("championsDisabled")?storage.get("championsDisabled"):null,storage.isSet("rolesSane")?(rolesSane=storage.get("rolesSane"),updateSaneRoles()):(firstTime=!0,rolesSane=!0,storage.set("rolesSane",rolesSane)),rolesSane||$("btn-role-sane").removeClass("active"),storage.isSet("free2playState")?free2playState=storage.get("free2playState"):(free2playState=1,storage.set("free2playState",free2playState));var $free2play=$(".free2play");switch($free2play.removeClass("btn-success"),free2playState){case 0:$free2play.addClass("btn-warning"),$free2play.find("p").text("Disabled");break;case 1:$free2play.addClass("btn-success"),$free2play.find("p").text("Enabled");break;case 2:$free2play.addClass("btn-primary"),$free2play.find("p").text("Only")}free2playTimout=setTimeout(function(){"use strict";$free2play.find("p").text($free2play.data("text"))},1e3),storage.isSet("champions")?(champions=storage.get("champions"),loading--,updateProgress(2),loading||loadData()):loadChampionData(),storage.isSet("order")?(order=storage.get("order"),loading--,updateProgress(2),loading||loadData()):loadOrderData(),storage.isSet("free2play")?(free2play=storage.get("free2play"),loading--,updateProgress(2),loading||loadData()):loadF2PData(),storage.isSet("rolesJSON")?(rolesJSON=storage.get("rolesJSON"),loading--,updateProgress(2),loading||loadData()):(rolesJSON=[],loadRoleData()),$(function(){"use strict";DOMReady=!0,free2playError&&showFree2PlayError(),loading--,updateProgress(2),$.getScript("dist/ChampionPick-after.min.js",function(){if(PNotify.prototype.options.styling="bootstrap3",PNotify.prototype.options.delay=3e3,firstTime){var a=new PNotify({title:"Info",text:"Click on a champion to disable it.",opacity:.9,icon:"glyphicon glyphicon-envelope",nonblock:{nonblock:!0,nonblock_opacity:.2},history:{history:!1},delay:1e4});a.get().click(function(){a.options.animation="none",a.remove()})}loading--,updateProgress(2),loading||loadData()})}),$(window).on("debouncedresize",function(){"use strict";champTextFit(),$(window).height()>=320&&adjustModalMaxHeightAndPosition(),modalLoreFit(!1)});
//# sourceMappingURL=ChampionPick.min.js.map