/*! ChampionPick - v0.1.0 - 2015-03-05
* https://github.com/Boelensman1/ChampionPicker.github.io
* Copyright (c) 2015 ; Licensed  */
function loadData(){"use strict";storage.set("rolesJSON",rolesJSON),loadedOnce===!1?(loadedOnce=!0,setTimeout(function(){loading=6,forceReload()},5e3),init()):$("#champions").empty();var a,b,c,d="";for(a=0;a<order.length;++a)b=order[a],c=champions[b].name.replace(/\W/g,""),champions[b].shortName=c,champions[b].name.length>8&&largeNames.push(c),d+='<li style="display:none" id="champ'+c+'" class="col-lg-1 col-md-1 col-sm-2 col-xs-3 champion toShow showSearch showF2P" data-championId="'+b+'"><img class="img-responsive championPortrait" src="'+champions[b].iconSRC+'"><span class="label label-default center-block championLabel">'+champions[b].name+"</span></li>";$("#champions").append(d);var e=0,f=84/order.length,g=$(".championPortrait");if(g.on("load",function(){e++,updateProgress(f),$(this).parent().hasClass("toShow")&&$(this).parent().show(),e===order.length&&($("#ProgressContainer").hide(),champTextFit())}),e!==order.length&&g.each(function(){this.complete&&$(this).trigger("load")}),reloadActive(!1),storage.isSet("championsDisabled")&&!storage.isEmpty("championsDisabled"))championsDisabled=storage.get("championsDisabled");else{for(championsDisabled={},a=0;a<order.length;++a)b=order[a],championsDisabled[b]=!1;storage.set("championsDisabled",championsDisabled)}for(storage.isSet("champPlayed")&&!storage.isEmpty("champPlayed")?champPlayed=storage.get("champPlayed"):(champPlayed={},storage.set("champPlayed",champPlayed)),a=0;a<order.length;++a)b=order[a],$("[data-championId="+b+"]").addClass(championsDisabled[b]?"disabled":"notDisabled");var h;for(b=0;b<free2play.length;++b)h=$("[data-championId="+free2play[b]+"]"),h.addClass("Free2Play"),h.find("span").removeClass("label-default"),h.find("span").addClass("label-success");updateFree2Play(),$(".champion").click(function(){$(this).toggleClass("notDisabled");var a,b=$(this).data("championid");$(this).hasClass("Free2Play")&&0!==free2playState?($(this).toggleClass("disabled_f2p"),a=$(this).hasClass("disabled_f2p")):($(this).toggleClass("disabled"),a=$(this).hasClass("disabled")),championsDisabled[b]=a,storage.set("championsDisabled",championsDisabled)}),doingRandom=!1}function init(){"use strict";function a(){$("[data-championId="+randomChampId+"]").click(),b()}function b(){if(doingNext===!0)return!1;doingNext=!0,champPlayed[randomChampId]-=1,champsExcluded.push(randomChampId);var c,d,e=getRandomChampion(champsExcluded);if(e===!1){$(".randomChampionModal").modal("hide");var f=new PNotify({title:"No champions",text:"There are no champions left to choose from.",opacity:.9,icon:"glyphicon glyphicon-envelope",nonblock:{nonblock:!0,nonblock_opacity:.2},history:{history:!1}});return f.get().click(function(){f.options.animation="none",f.remove()}),doingRandom=!1,doingNext=!1,!1}randomChampId=e[0],c=e[1],d=e[2],randomChamp=champions[randomChampId],void 0===champPlayed[e]&&(champPlayed[e]=0),champPlayed[e]+=1,storage.set("champPlayed",champPlayed);var g=$(".randomChampionDialog"),h=g.clone();updateModal(h,randomChamp,randomChampId,rolesPos[c],d.length),h.css("opacity",0),h.css("transform","perspective(550px) rotateY(180deg)"),h.insertAfter(".randomChampionDialog"),g.transition({opacity:0,perspective:550,rotateY:540},1e3),h.transition({opacity:1,perspective:550,rotateY:360},1e3,function(){g.remove(),$(".randomChampionDontHaveButton").click(a),$(".randomChampionNextButton").click(b),doingNext=!1})}$(".randomChampionModal").modal({show:!1}),$(".randomChampionDontHaveButton").click(a),$(".randomChampionNextButton").click(b),$("#championSearch").keyup(function(){var a=$("#championSearch").val().toLowerCase(),b=$(".champion");if(0===a.length)b.removeClass("hiddenSearch"),b.addClass("showSearch");else{var c;a=a.split("|");var d=[];for(c=0;c<a.length;++c){var e=searchFor(a[c]);$.merge(d,e)}b.addClass("hiddenSearch"),b.removeClass("showSearch");var f;for(c=0;c<d.length;++c)f=$("[data-championId="+d[c]+"]"),f.removeClass("hiddenSearch"),f.addClass("showSearch")}}),$(".free2play").click(function(){var a=$(".free2play");switch(free2playState){case 0:free2playState=2,a.removeClass("btn-warning"),a.removeClass("btn-success"),a.addClass("btn-primary"),a.find("p").text("Only");break;case 1:free2playState=0,a.removeClass("btn-success"),a.removeClass("btn-primary"),a.addClass("btn-warning"),a.find("p").text("Disabled");break;case 2:free2playState=1,a.removeClass("btn-warning"),a.removeClass("btn-primary"),a.addClass("btn-success"),a.find("p").text("Enabled")}clearTimeout(free2playTimout),free2playTimout=setTimeout(function(){a.find("p").text(a.data("text"))},1e3),updateFree2Play()}),$(".roles button").click(function(){var a=$(this).data("roleid");roles[a]=!roles[a],storage.set("roles",roles),reloadActive(!0)}),$(".dropdownRole li a").click(function(){roleType=$(this).data("roleid"),storage.set("roleType",roleType),$(".roleType").html(roleTypeOptions[roleType]+' <span class="caret"></span>'),reloadActive(!0)}),$("#random").click(function(){if(doingRandom)return!1;doingRandom=!0,champsExcluded=[];var a=getRandomChampion([]);if(a===!1){doingRandom=!1;var b=new PNotify({title:"No possible champions.",text:"Please enable at least 1 champion.",opacity:.9,type:"error",icon:"glyphicon glyphicon-warning-sign",nonblock:{nonblock:!0,nonblock_opacity:.2},history:{history:!1}});return b.get().click(function(){b.options.animation="none",b.remove()}),!1}randomChampId=a[0];var c=a[1],d=a[2],e=d.length;randomChamp=champions[randomChampId],d.length>8&&d.splice(d.indexOf(randomChampId),1),void 0===champPlayed[randomChampId]&&(champPlayed[randomChampId]=0),champPlayed[randomChampId]+=1,storage.set("champPlayed",champPlayed);var f=$("#randomtest");f.empty(),$(".randomChampionModalLore,.randomChampionModalLinks2").height(0),f.css("transform","translate(200px,0px)");var g=Math.min(Math.max(20,d.length-10),35)+Math.floor(10*Math.random());if(d.length<=g+10)for(var h=d.length;d.length<=g+10;){var i=Math.floor(Math.random()*h);d.push(d[i])}shuffle(d),d[g]=randomChampId;var j,k="";for(j=0;g+10>=j;++j)-1!==d[j]&&(k+='<img src="'+champions[d[j]].iconSRC+'">');return f.append(k),setTimeout(function(){$("#randomButton").transition({opacity:0,perspective:550,rotateX:180},1e3),$("#randomSelecter").transition({opacity:1,perspective:550,rotateX:360},1e3),f.transition({x:100*-g+$("#randomSelecterChild").width()/2+400-(70*Math.random()+15)},3e3,"cubic-bezier(.6,-.28,.48,1)",function(){var a=$(".randomChampionDialog");a.css("transform","perspective(550px) rotateY(360deg)"),updateModal(a,randomChamp,randomChampId,rolesPos[c],e),setTimeout(function(){var a=$(".randomChampionModal");adjustModalMaxHeightAndPosition(),a.modal("show"),setTimeout(function(){modalLoreFit(!1)},200),a.on("shown.bs.modal",function(){modalLoreFit(!0)}),a.on("hidden.bs.modal",function(){doingRandom=!1}),setTimeout(function(){$("#randomButton").transition({opacity:1,perspective:550,rotateX:0},1e3),$("#randomSelecter").transition({opacity:0,perspective:550,rotateX:180},1e3)},1e3)},200)})},200),!1}),$("#btn-force-reload").click(function(){forceReload()}),$("#btn-reset-playcount").confirmation({onConfirm:function(){champPlayed={},storage.set("champPlayed",champPlayed);var a=new PNotify({title:"Playcount",text:"The playcount has been reset.",opacity:.9,icon:"glyphicon glyphicon-envelope",nonblock:{nonblock:!0,nonblock_opacity:.2},history:{history:!1}});a.get().click(function(){a.options.animation="none",a.remove()})}}),$("#btn-reset-champions").confirmation({onConfirm:function(){championsDisabled=[],storage.set("championsDisabled",championsDisabled),forceReload()}}),$(".sidebar").on("show.bs.sidebar",function(){var a,b={};for(a=0;a<exportKeys.length;++a)b[exportKeys[a]]=storage.get(exportKeys[a]);$("#settingsExport").val(JSON.stringify(b))}),$("#settingsExport").click(function(){this.setSelectionRange(0,this.value.length)}),$("#settingsExport").dblclick(function(){}),$("#settingsImportButton").click(function(){var a,b,c,d=JSON.parse($("#settingsImport").val());for(c=Object.keys(d),a=0;a<c.length;++a)b=c[a],storage.set(b,d[b]),window[b]=d[b];forceReload()}),$.getJSON("data/email.json",function(a){$("#email").text(a[0]),$("#email").attr("href","mailto:"+a[0])})}function adjustModalMaxHeightAndPosition(){$(".modal").each(function(){$(this).hasClass("in")===!1&&$(this).show();var a=$(window).height()-60,b=$(this).find(".modal-header").outerHeight()||2,c=$(this).find(".modal-footer").outerHeight()||2;$(this).find(".modal-content").css({"max-height":function(){return a}}),$(this).find(".modal-body").css({"max-height":function(){return a-(b+c)}}),$(this).find(".modal-dialog").addClass("modal-dialog-center").css({"margin-top":function(){return-($(this).outerHeight()/2)},"margin-left":function(){return-($(this).outerWidth()/2)}}),$(this).hasClass("in")===!1&&$(this).hide()})}!function(a){"use strict";function b(a){for(var b=window,c=a.split("."),d=c.pop(),e=0,f=c.length;f>e;e++)b=b[c[e]];return function(){b[d].call(this)}}if(!a.fn.popover)throw new Error("Confirmation requires popover.js");var c=function(b,c){this.init("confirmation",b,c);var d=this;this.options.selector||(this.$element.attr("href")&&(this.options.href=this.$element.attr("href"),this.$element.removeAttr("href"),this.$element.attr("target")&&(this.options.target=this.$element.attr("target"))),this.$element.on(d.options.trigger,function(a,b){b||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}),this.$element.on("confirmed.bs.confirmation",function(){a(this).trigger(d.options.trigger,[!0])}),this.$element.on("show.bs.confirmation",function(){d.options.singleton&&a(d.options._selector).not(a(this)).filter(function(){return void 0!==a(this).data("bs.confirmation")}).confirmation("hide")})),this.options._isDelegate||(this.eventBody=!1,this.uid=this.$element[0].id||this.getUID("group_"),this.$element.on("shown.bs.confirmation",function(){d.options.popout&&!d.eventBody&&(a(this),d.eventBody=a("body").on("click.bs.confirmation."+d.uid,function(b){a(d.options._selector).is(b.target)||(a(d.options._selector).filter(function(){return void 0!==a(this).data("bs.confirmation")}).confirmation("hide"),a("body").off("click.bs."+d.uid),d.eventBody=!1)}))}))};c.DEFAULTS=a.extend({},a.fn.popover.Constructor.DEFAULTS,{placement:"top",title:"Are you sure?",html:!0,href:!1,popout:!1,singleton:!1,target:"_self",onConfirm:a.noop,onCancel:a.noop,btnOkClass:"btn-xs btn-primary",btnOkIcon:"glyphicon glyphicon-ok",btnOkLabel:"Yes",btnCancelClass:"btn-xs btn-default",btnCancelIcon:"glyphicon glyphicon-remove",btnCancelLabel:"No",template:'<div class="popover confirmation"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content text-center"><div class="btn-group"><a class="btn" data-apply="confirmation"></a><a class="btn" data-dismiss="confirmation"></a></div></div></div>'}),c.prototype=a.extend({},a.fn.popover.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.init=function(b,c,d){a.fn.popover.Constructor.prototype.init.call(this,b,c,d),this.options._isDelegate=!1,d.selector?this.options._selector=this._options._selector=d._root_selector+" "+d.selector:d._selector?(this.options._selector=d._selector,this.options._isDelegate=!0):this.options._selector=d._root_selector},c.prototype.setContent=function(){var b=this,c=this.tip(),d=this.options;c.find(".popover-title")[d.html?"html":"text"](this.getTitle()),c.find('[data-apply="confirmation"]').addClass(d.btnOkClass).html(d.btnOkLabel).prepend(a("<i></i>").addClass(d.btnOkIcon)," ").off("click").one("click",function(){b.getOnConfirm.call(b).call(b.$element),b.$element.trigger("confirmed.bs.confirmation"),b.leave(b)}),d.href&&c.find('[data-apply="confirmation"]').attr({href:d.href,target:d.target}),c.find('[data-dismiss="confirmation"]').addClass(d.btnCancelClass).html(d.btnCancelLabel).prepend(a("<i></i>").addClass(d.btnCancelIcon)," ").off("click").one("click",function(){b.getOnCancel.call(b).call(b.$element),b.$element.trigger("canceled.bs.confirmation"),b.leave(b)}),c.removeClass("fade top bottom left right in"),c.find(".popover-title").html()||c.find(".popover-title").hide()},c.prototype.getOnConfirm=function(){return this.$element.attr("data-on-confirm")?b(this.$element.attr("data-on-confirm")):this.options.onConfirm},c.prototype.getOnCancel=function(){return this.$element.attr("data-on-cancel")?b(this.$element.attr("data-on-cancel")):this.options.onCancel};var d=a.fn.confirmation;a.fn.confirmation=function(b){var d="object"==typeof b&&b||{};return d._root_selector=this.selector,this.each(function(){var e=a(this),f=e.data("bs.confirmation");(f||"destroy"!=b)&&(f||e.data("bs.confirmation",f=new c(this,d)),"string"==typeof b&&f[b]())})},a.fn.confirmation.Constructor=c,a.fn.confirmation.noConflict=function(){return a.fn.confirmation=d,this}}(jQuery),function(a){a.fn.fitText=function(b,c){var d=b||1,e=a.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},c);return this.each(function(){var b=a(this),c=function(){b.css("font-size",Math.max(Math.min(b.width()/(10*d),parseFloat(e.maxFontSize)),parseFloat(e.minFontSize)))};c(),a(window).on("resize.fittext orientationchange.fittext",c)})}}(jQuery),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){if(a in l.style)return a;for(var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);return l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),b.style[m.transform]="WebkitTransform"!==m.transform||n?e.toString():e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("scaleX"),h("scaleY"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=a.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j="undefined"==typeof c.queue?!0:c.queue,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(b){var c=!1,d=function(){c&&h.unbind(p,d),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof b&&b()};q>0&&p&&a.transit.useTransitionEnd?(c=!0,h.bind(p,d)):window.setTimeout(d,q),h.each(function(){q>0&&(this.style[m.transition]=n),a(this).css(l)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g,a});